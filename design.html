<div ng-app="cdesign" id="mainContainer">
	<div ng-controller="MainController">
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<h3 class="page-header">Make My Own Design</h3>
			<p class="page-content">DESIGNING WAS NEVER SO EASY!  NEVER SO FUN! ITS SIMPLE…. YOU DESIGN, WE DELIVER.</p>
		</div>
		<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
			<div ng-if="designLevel == 0 && !productAdded" class="alert" role="alert" id="alertDiv1">
				<p><i class="fa fa-exclamation-circle"></i>Start designing your own jewelry by choosing from the below options. To start you could pick a stud or simply a hook. Click 'ADD NEXT' once you have chosen your favorite.</p>
			</div>
			<div ng-if="designLevel == 1 && !productAdded" class="alert" role="alert" id="alertDiv2">
				<p><i class="fa  fa-comment"></i>Good Start! Now click and explore various options from below . Click ‘ADD’ button once you have chosen your favorite. Don’t forget to click ‘MORE’ and see all designs.</p>
					OR
				<p>you could ‘Add to cart’ if you like your design this way.</p>
				<!-- <p ng-if='mySelectedItems[designLevel].bottompoints == 0'></p> -->
			</div>
			<div ng-if="designLevel == 2 &&  !productAdded" class="alert" role="alert" id="alertDiv3">
				<p><i class="fa fa-exclamation-triangle"></i>Wonderful Choice !  You may add another level by choosing another design from below. Click ‘ADD’ button once you have chosen your favorite </p>
				OR
				<p>you could ‘Add to cart’ if you like your design this way.</p>
			</div>
			<div ng-if="designLevel == 3 &&  !productAdded" class="alert" role="alert" id="alertDiv4">
				<p><i class="fa fa-hand-o-right"></i>That looks amazing!  That just cant get any better, Choose a final option and go ahead and ‘Add to cart’. </p>
			</div>
			<div ng-if="mySelectedItems[designLevel].bottompoints == 0 &&  !productAdded" class="alert" role="alert" id="alertDiv4">
				<p> <i class="fa fa-exclamation-triangle"></i>The one you selected is end element. no options are availble for next level. </p>
			</div>
			<div ng-if="productAdded" class="alert" role="alert" id="alertDiv4">
				<p> <i class="fa fa-thumbs-up"></i> Your Design Added successfully to the Cart</p>
			</div>

		</div>
		<div class="row">
			<div class="col-lg-10 col-md-10 col-sm-10 col-xs-10">
				<div class="row">
					<div class="avlOptions col-lg-4 col-md-4 col-sm-4 col-xs-12">
						<div class="bgProduct">
							<div class="designDiv">
								<div class="prd_elements elements{{$index}}" ng-repeat="imgItem in mySelectedItems track by $index" prd-position selected-item="imgItem">
									<img  ng-src="{{siteUrl}}productImages/{{imgItem.selectedImage}}" />
								</div>
								<div class="clearfix"></div>
							</div>
						</div>

						<div id="imgOptions" class="designOptions">
							<div ng-if="levelFilled" class="aelements">
								<img ng-src="{{siteUrl}}productImages/{{mySelectedItems[designLevel].carouselImg}}"  ng-click="selectImage(mySelectedItems[designLevel].carouselImg, false);" />
							</div>
							<div class="aelements" ng-repeat="altItem in mySelectedItems[designLevel].images">
								<img ng-src="{{siteUrl}}productImages/{{altItem.imagefile}}"  ng-click="selectImage(altItem.imagefile, false);" />
							</div>
							<div class="clearfix"></div>
						</div>
					</div>

					<div class="col-lg-8 col-md-8 col-sm-8 col-xs-12" id="subElementDiv">
						<!-- all the messages come here -->

						<div class="elements" id="sampleImgs">
							<div id="subElementsDiv">
								<div>
									<!-- <h4>Teracotta Options<j/h4> -->
									<div class="product-grid elem" ng-repeat="imgElem in terracota = (filteredSet | category:1) | limitTo:8">
										<div class="product-img">
											<img ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
										</div>
									</div>
									<a  ng-if="terracota.length > 6"  href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='block';document.getElementById('fade').style.display='block'">
										<img src="http://placehold.it/80?text=MORE" class="placeholdit"></a>
									<div class="clearfix"></div>
								</div>
								<div id="light" class="white_content">
									<a href = "javascript:void(0)" onclick = "document.getElementById('light').style.display='none';document.getElementById('fade').style.display='none'">Close</a><br/>
									<div ng-repeat="imgElem in filteredSet | category:1" class="popupImageDiv">
										<img ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
									</div>

								</div>
								<div id="fade" class="black_overlay"></div>
								<div>
									<!-- <h4>Metals Options</h4> -->
									<div class="product-grid elem" ng-repeat="imgElem in metal= (filteredSet | category:3) | limitTo:8">
										<div class="product-img">
											<img ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
										</div>
									</div>
									<a ng-if="metal.length > 6" href = "javascript:void(0)" onclick = "document.getElementById('light2').style.display='block';document.getElementById('fade2').style.display='block'"><img src="http://placehold.it/80?text=MORE" class="placeholdit"></a>
									<div class="clearfix"></div>
								</div>
								<div id="light2" class="white_content">
									<a href = "javascript:void(0)" onclick = "document.getElementById('light2').style.display='none';document.getElementById('fade2').style.display='none'">Close</a><br/>
									<div ng-repeat="imgElem in filteredSet | category:3" class="popupImageDiv">
										<img   ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
									</div>
								</div>
								<div id="fade2" class="black_overlay"></div>
								<div ng-if="(filteredSet | category:2).length > 0">
									<!-- <h4>Beaded Options</h4> -->
									<div class="product-grid elem" ng-repeat="imgElem in beaded = (filteredSet | category:2) | limitTo:8">
										<div class="product-img">
											<img ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
										</div>
									</div>
									<a ng-if="beaded.length > 6" href = "javascript:void(0)" onclick = "document.getElementById('light1').style.display='block';document.getElementById('fade1').style.display='block'"><img src="http://placehold.it/80?text=MORE" class="placeholdit"></a>
									<div class="clearfix"></div>
								</div>
								<div id="light1" class="white_content">
									<a href = "javascript:void(0)" onclick = "document.getElementById('light1').style.display='none';document.getElementById('fade1').style.display='none'">Close</a><br/>
									<div ng-repeat="imgElem in filteredSet | category:2" class="popupImageDiv">
										<img  ng-src="{{siteUrl}}productImages/{{imgElem.carouselImg}}" alt="" ng-click="selectImage(imgElem,  true);">
									</div>
								</div>
								<div id="fade1" class="black_overlay"></div>
							</div>
							<div id="chkBtn" style="text-align:left;">
								<button type="button" ng-disabled="nextDisable() || productAdded" class="btn btn-primary" ng-click="updateLevel()">Add Next</button> &nbsp; &nbsp;
								<button type="button" ng-disabled="designLevel == 0 || productAdded"  class="btn btn-primary" ng-click="gobackLevel()">Remove</button>
								<button type="button" ng-if="designLevel > 0"  class="btn btn-primary" ng-click="resetDesign()" style="margin-left: 15px;">Reset</button>
		            		</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-lg-2 col-md-2 col-sm-2 col-xs-2">
				<div id="designDet" class="cart-items">
					<h4>Cost Details</h4>
					<table width="95%">
		                <tbody>
			                <tr>
			                  	<th>Price&nbsp;(with Tax)</th>
			                  	<td>:  {{designPrice | currency:"&#8377":2}}
			                  	</td>
			                </tr>
			                <tr>
			                  	<th>Shipping Charges</th>
			                  	<td>:  {{ currShipping = designPrice > 0 ? shipping[0] : 0 | currency:"&#8377":2}}
			                  	</td>
			                </tr>
			                <tr>
			                  	<th>Total</th>
			                  	<td>:  {{  designPrice + currShipping | currency:"&#8377":2}}
			                  	</td>
			                </tr>

			                <tr style="border:none">
			                  	<td colspan="2" style="text-align: center">
			                  		<button style="margin-top: 10px;" ng-if="isAgent" ng-click="processForm()" ng-show="mySelectedItems.length > 0 && !productAdded" class="cnfBtn">Confirm Design</button> &nbsp; &nbsp;
									<button  style="margin-top: 10px;" ng-if="!isAgent" ng-click="processForm()" ng-show="mySelectedItems.length > 0" ng-disabled="productAdded" class="addtoCart">Add to Cart</button>
			                  	</td>
			                </tr>
		               </tbody>
		            </table>
				</div>
				<div id="designerPick" ng-if="designerPicks.length > 0">
					<h4>Designer's pick for you</h4>
					<div class="product-grid despick" ng-repeat="despick in designerPicks">
						<a target="_self" ng-href="{{siteUrl}}index.php?single&amp;id={{despick['productid']}}">
							<div class="more-product"><span> </span></div>
							<div class="product-img b-link-stripe b-animate-go  thickbox">
								<img ng-src="{{siteUrl}}/productImages/{{despick['mainimg']}}" />
								<div class="b-wrapper">
									<h4 class="b-animate b-from-left  b-delay03">
										<button>View</button>
									</h4>
								</div>
							</div>
						</a>
					</div>
				</div>
			</div>
		</div>
	</div><!-- controller ends-->
</div><!--topmost  div ends -->